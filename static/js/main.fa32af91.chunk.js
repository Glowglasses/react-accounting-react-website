(this["webpackJsonpquickaccounting-react"]=this["webpackJsonpquickaccounting-react"]||[]).push([[0],{135:function(t,e,n){var c={"./addTags.svg":136,"./chart.svg":137,"./down.svg":138,"./home.svg":139,"./money.svg":140,"./statistics.svg":141,"./up.svg":142};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(c,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return c[t]}o.keys=function(){return Object.keys(c)},o.resolve=r,t.exports=o,o.id=135},136:function(t,e,n){"use strict";n.r(e);var c=n(15),o=n.n(c),r=n(16),i=n.n(r),a=new o.a({id:"addTags",use:"addTags-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="addTags"><defs><style type="text/css"></style></defs><path d="M896 448H576V128c0-35.2-28.8-64-64-64s-64 28.8-64 64v320H128c-35.2 0-64 28.8-64 64s28.8 64 64 64h320v320c0 35.2 28.8 64 64 64s64-28.8 64-64V576h320c35.2 0 64-28.8 64-64s-28.8-64-64-64z" fill="" p-id="5820" /></symbol>'});i.a.add(a);e.default=a},137:function(t,e,n){"use strict";n.r(e);var c=n(15),o=n.n(c),r=n(16),i=n.n(r),a=new o.a({id:"chart",use:"chart-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="chart"><defs><style type="text/css"></style></defs><path d="M271.872 603.136v158.208c0 14.336 11.264 25.6 25.6 25.6s25.6-11.264 25.6-25.6v-158.208c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6z m-37.376-153.088l209.408-145.92 124.416 135.68c2.048 2.048 4.096 3.584 6.656 5.12h18.944c2.56-1.024 5.12-2.048 7.68-3.584l219.648-153.6c12.8-8.704 15.872-26.112 7.168-38.4-8.704-12.8-26.112-15.872-38.912-7.168l-204.8 141.824-115.712-134.656c-9.216-9.728-24.576-11.264-35.84-3.584-2.56 0.512-5.12 1.536-7.168 3.072l-223.232 153.6c-12.8 8.704-15.872 26.112-7.168 38.4s26.112 15.872 38.4 7.168v2.048z m190.464 45.568v265.728c0 14.336 11.264 25.6 25.6 25.6s25.6-11.264 25.6-25.6v-265.728c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6z m304.128 0v265.728c0 14.336 11.264 25.6 25.6 25.6s25.6-11.264 25.6-25.6v-265.728c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6z m-151.552 107.52v158.208c0 14.336 11.264 25.6 25.6 25.6s25.6-11.264 25.6-25.6v-158.208c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6z" p-id="2101" /><path d="M880.128 835.072H271.36c-56.32 0-102.4-46.08-102.4-102.4V162.816c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6v569.856c0 84.992 68.608 153.6 153.6 153.6h608.768c14.336 0 25.6-11.264 25.6-25.6 0-13.824-11.264-25.6-25.6-25.6z" p-id="2102" /></symbol>'});i.a.add(a);e.default=a},138:function(t,e,n){"use strict";n.r(e);var c=n(15),o=n.n(c),r=n(16),i=n.n(r),a=new o.a({id:"down",use:"down-usage",viewBox:"0 0 1394 1024",content:'<symbol class="icon" viewBox="0 0 1394 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="down"><defs><style type="text/css"></style></defs><path d="M808.665066 968.123525a139.174837 139.174837 0 0 1-222.989114 0L28.061551 224.448838A140.525626 140.525626 0 0 1 0 140.133462C0 62.746326 62.484883 0 139.567002 0h1115.228801c30.283817 0 59.739731 9.891261 83.944998 28.192273 61.569833 46.558646 73.901229 134.425289 27.538666 196.256565L808.665066 968.123525z" p-id="3161" /></symbol>'});i.a.add(a);e.default=a},139:function(t,e,n){"use strict";n.r(e);var c=n(15),o=n.n(c),r=n(16),i=n.n(r),a=new o.a({id:"home",use:"home-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="home"><defs><style type="text/css"></style></defs><path d="M956.998515 559.444569c-4.204765 4.189416-9.657964 6.332219-15.205307 6.332219-5.531993 0-10.984169-2.142803-15.189957-6.332219L512.004605 144.845922 97.421308 559.444569c-8.362458 8.394181-22.032806 8.394181-30.395264 0-8.394181-8.362458-8.394181-22.032806 0-30.395264l429.788603-429.788603c8.362458-8.394181 22.032806-8.394181 30.395264 0l429.788603 429.788603C965.392696 537.411763 965.392696 551.08211 956.998515 559.444569L956.998515 559.444569zM769.877767 931.049005 619.499851 931.049005c-11.879562 0-21.537526-9.561773-21.537526-21.441335s9.657964-21.537526 21.537526-21.537526L769.877767 888.070144c23.728424 0 42.97886-19.25146 42.97886-42.97886L812.856627 608.67583c0-11.799744 9.657964-21.457708 21.537526-21.457708s21.441335 9.657964 21.441335 21.457708l0 236.415454C855.835488 892.530736 817.317219 931.049005 769.877767 931.049005L769.877767 931.049005zM619.499851 716.154703 426.046884 716.154703l0 193.452967c0 11.879562-9.561773 21.441335-21.441335 21.441335L254.131443 931.049005c-47.424102 0-85.957721-38.518269-85.957721-85.957721L168.173722 436.840206c0-11.879562 9.657964-21.537526 21.537526-21.537526 11.799744 0 21.441335 9.657964 21.441335 21.537526l0 408.251078c0 23.728424 19.266809 42.97886 42.97886 42.97886l128.936581 0L383.068024 694.63355c0-11.799744 9.657964-21.457708 21.537526-21.457708l214.894302 0c11.799744 0 21.441335 9.657964 21.441335 21.457708C640.941186 706.59293 631.299595 716.154703 619.499851 716.154703L619.499851 716.154703z" p-id="6803" /></symbol>'});i.a.add(a);e.default=a},140:function(t,e,n){"use strict";n.r(e);var c=n(15),o=n.n(c),r=n(16),i=n.n(r),a=new o.a({id:"money",use:"money-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="money"><defs><style type="text/css">@font-face { font-family: feedback-iconfont; src: url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.eot?#iefix") format("embedded-opentype"), url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff2") format("woff2"), url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff") format("woff"), url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.ttf") format("truetype"), url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.svg#iconfont") format("svg"); }\n</style></defs><path d="M463.3 958.3V772.1H228.8v-77.5h234.5v-80.5H228.8v-83.5H420L191.5 128h113.7L469 420.6c18.2 33.4 32.4 62.4 42.7 86.9 9-19.8 24.6-50.5 46.8-92.1L713.9 128h120.8L605.5 530.6h192.9v83.5H564.9v80.5h233.5v77.5H564.9v186.2H463.3z" p-id="5498" /></symbol>'});i.a.add(a);e.default=a},141:function(t,e,n){"use strict";n.r(e);var c=n(15),o=n.n(c),r=n(16),i=n.n(r),a=new o.a({id:"statistics",use:"statistics-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="statistics"><defs><style type="text/css"></style></defs><path d="M853.333333 85.333333a64 64 0 0 1 64 64v725.333334a64 64 0 0 1-64 64H256a64 64 0 0 1-64-64v-128H160a32 32 0 0 1 0-64H192v-128H160a32 32 0 0 1 0-64H192v-128H160a32 32 0 0 1 0-64H192V149.333333a64 64 0 0 1 64-64h597.333333z m-21.333333 64H277.333333a21.333333 21.333333 0 0 0-21.184 18.837334L256 170.666667v682.666666a21.333333 21.333333 0 0 0 18.837333 21.184L277.333333 874.666667h554.666667a21.333333 21.333333 0 0 0 21.184-18.837334L853.333333 853.333333V170.666667a21.333333 21.333333 0 0 0-21.333333-21.333334z m-137.365333 158.72a32 32 0 0 1 0 45.248l-72.832 72.810667H693.333333a32 32 0 0 1 0 64h-108.074666v64H693.333333a32 32 0 0 1 0 64h-108.074666V736a32 32 0 0 1-64 0v-117.888H416a32 32 0 1 1 0-64h105.258667v-64H416a32 32 0 1 1 0-64h72.192l-72.810667-72.810667a32 32 0 0 1 45.248-45.269333l94.357334 94.378667 94.4-94.357334a32 32 0 0 1 45.248 0z" fill="#000000" p-id="3806" /></symbol>'});i.a.add(a);e.default=a},142:function(t,e,n){"use strict";n.r(e);var c=n(15),o=n.n(c),r=n(16),i=n.n(r),a=new o.a({id:"up",use:"up-usage",viewBox:"0 0 1394 1024",content:'<symbol class="icon" viewBox="0 0 1394 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="up"><defs><style type="text/css"></style></defs><path d="M808.676766 55.862468l557.622468 743.685447c46.363234 61.83217 34.03166 149.700085-27.539064 196.259404A139.176851 139.176851 0 0 1 1254.813957 1024H139.569021C62.485787 1024 0 961.252766 0 883.842723a140.52766 140.52766 0 0 1 28.061957-84.316595L585.684426 55.884255a139.176851 139.176851 0 0 1 222.99234 0z" p-id="3307" /></symbol>'});i.a.add(a);e.default=a},188:function(t,e,n){},189:function(t,e,n){"use strict";n.r(e);var c,o,r=n(0),i=n.n(r),a=n(24),s=n.n(a),l=n(26),d=n(8),u=n(25),b=n(3),f=n(5),h=n(6),j=n(2),x=h.a.svg(c||(c=Object(f.a)(["\n  height: 1.5em;\n  width: 1.5em;\n  fill: currentColor;\n  vertical-align: bottom;\n  overflow: hidden;\n"])));try{(o=n(135)).keys().forEach(o)}catch(xt){console.log(xt)}var m,p,O=function(t){return Object(j.jsx)(x,{className:"icon",children:Object(j.jsx)("use",{xlinkHref:"#"+t.name})})},g=n(12),w=function(t,e){var n=Object(r.useRef)(0);Object(r.useEffect)((function(){n.current+=1})),Object(r.useEffect)((function(){n.current>1&&t()}),[t,e])},v=function(){var t=Object(r.useState)([]),e=Object(b.a)(t,2),n=e[0],c=e[1],o=Object(r.useState)(),i=Object(b.a)(o,2),a=i[0],s=i[1];Object(r.useEffect)((function(){JSON.parse(window.localStorage.getItem("isEdit")||"false")&&s(JSON.parse(window.localStorage.getItem("currentRecord")||"{tagIds: [],note: '',category: '-',amount: '',createdAt: ''")),c(JSON.parse(window.localStorage.getItem("records")||"[]"))}),[]),w((function(){window.localStorage.setItem("records",JSON.stringify(n)),c(n)}),n);return{records:n,addRecord:function(t){c([].concat(Object(g.a)(n),[t]))},currentRecord:a,updateRecord:function(t){c([].concat(Object(g.a)(n.filter((function(e){return t.createdAt!==e.createdAt}))),[t]))},deleteRecord:function(t){c(n.filter((function(e){return e.createdAt!==t})))}}},y=h.a.div(m||(m=Object(f.a)(['\n  position: relative;\n  width: 100%;\n  display: flex;\n  padding-top: 10px;\n  justify-content: center;\n  align-items: flex-end;\n  margin-bottom: 20px;\n\n  > div {\n    font-size: 1.2em;\n    text-align: center;\n    padding: 0 5px;\n    line-height: 1.5em;\n\n    &.selected:after {\n      content: "";\n      display: block;\n      outline: 1px solid black;\n    }\n  }\n']))),D=h.a.div(p||(p=Object(f.a)(["\n  position: absolute;\n  right: 8%;\n"]))),S=function(t){var e={"-":"\u652f\u51fa","+":"\u6536\u5165"},n=Object(r.useState)(["-","+"]),c=Object(b.a)(n,1)[0],o=Object(r.useState)(t.value),i=Object(b.a)(o,2),a=i[0],s=i[1],l=v().currentRecord,u=Object(d.g)();Object(r.useEffect)((function(){JSON.parse(window.localStorage.getItem("isEdit")||"false")&&l&&s(l.category)}),[l]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(y,{style:{background:t.backgroundColor},children:[c.map((function(n){return Object(j.jsx)("div",{className:a===n?"selected":"",onClick:function(){return function(e){s(e),a&&t.onChange(e)}(n)},children:e[n]},n)})),t.home?Object(j.jsx)(D,{onClick:function(){u.push("/statistics"),window.localStorage.removeItem("isEdit"),window.localStorage.removeItem("currentRecord")},children:Object(j.jsx)(O,{name:"home"})}):null]})})};S.defaultProps={value:"-",backgroundColor:"#d0d0d0"};var k,C,E,I=n(14),N=function(){var t=JSON.parse(localStorage.getItem("maxId")||"-1");return localStorage.setItem("maxId",t+1+""),t+1},R=function(){var t=Object(r.useState)([]),e=Object(b.a)(t,2),n=e[0],c=e[1];Object(r.useEffect)((function(){var t=JSON.parse(localStorage.getItem("tags")||"[]");0===t.length&&(t=[{id:N(),name:"\u8863",type:"-"},{id:N(),name:"\u98df",type:"-"},{id:N(),name:"\u4f4f",type:"-"},{id:N(),name:"\u884c",type:"-"},{id:N(),name:"\u5de5\u8d44",type:"+"}]),c(t)}),[]);w((function(){window.localStorage.setItem("tags",JSON.stringify(n))}),n);return{addTag:function(t,e){c([].concat(Object(g.a)(n),[{name:t,id:N(),type:e}]))},updateTag:function(t){c(n.map((function(e){return e.id===t.id?{id:t.id,name:t.name,type:t.type}:e})))},tags:n,setTags:c,removeTag:function(t){c(n.filter((function(e){return e.id!==t})))},findNameByIds:function(t){var e=[];return t.forEach((function(t){var c=n.find((function(e){return t===e.id}));c&&e.push(c.name)})),e}}},M=h.a.div(k||(k=Object(f.a)(["\n  width: 80%;\n  margin: 10px auto;\n  font-size: 18px;\n  user-select: none;\n\n  > .input {\n    padding: 20px;\n  }\n\n  > .button {\n    display: flex;\n    justify-content: space-around;\n  }\n"]))),z=function(t){var e=R(),n=e.addTag,c=e.tags,o=e.removeTag,i=e.updateTag,a=Object(r.useRef)(0),s=Object(r.useRef)(null);Object(r.useEffect)((function(){a.current>1&&t.onChange(!1,c),a.current+=1}),[t,c]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(M,{children:[Object(j.jsx)("div",{className:"input",children:Object(j.jsx)("input",{type:"text",placeholder:"\u8f93\u5165\u6807\u7b7e\u540d",defaultValue:t.editValue.name,ref:s})}),Object(j.jsx)("div",{className:"button",children:"add"===t.type?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){t.onChange(!1,c)},children:"\u53d6\u6d88"}),Object(j.jsx)("button",{onClick:function(){n(s.current.value,t.categoryType),I.c.show("\u6dfb\u52a0\u6210\u529f")},children:"\u6dfb\u52a0"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){o(t.editValue.id),I.c.show("\u5220\u9664\u6210\u529f")},children:"\u5220\u9664"}),Object(j.jsx)("button",{onClick:function(){s.current&&(s.current.value?(i({id:t.editValue.id,name:s.current.value,type:t.categoryType}),I.c.show("\u66f4\u65b0\u6210\u529f")):I.c.show("\u8bf7\u8f93\u5165\u81f3\u5c11\u4e00\u4e2a\u5b57\u7b26\uff01\uff01\uff01"))},children:"\u4fee\u6539"})]})})]})})},T=h.a.div(C||(C=Object(f.a)(["\n  width: 89%;\n  height: 27%;\n  margin-bottom: auto;\n  margin-left: auto;\n  margin-right: auto;\n  flex-grow: -1;\n\n  > ol {\n    display: flex;\n    height: 100%;\n    justify-content: flex-start;\n    flex-direction: row;\n    align-items: flex-start;\n    flex-wrap: wrap;\n    overflow: auto;\n\n    > li {\n      font-size: 1.2em;\n      text-align: center;\n      display: block;\n      width: 20%;\n      margin-left: 4%;\n      padding: 8px 0 8px 0;\n      border-radius: 8px;\n      word-break: break-all;\n      user-select: none;\n\n      &.add {\n        border: none;\n      }\n\n      &.selected {\n        background-color: #dcdcdc;\n      }\n    }\n  }\n"]))),Y=function(t){var e=R(),n=e.tags,c=e.setTags,o=Object(r.useState)([]),i=Object(b.a)(o,2),a=i[0],s=i[1],l=Object(r.useState)(!1),d=Object(b.a)(l,2),u=d[0],f=d[1],h=Object(r.useRef)("add"),x=Object(r.useRef)(t.category),m=v().currentRecord,p=-1,w=!1,y=Object(r.useRef)({name:"",id:-1,type:"-"});Object(r.useEffect)((function(){x.current=t.category}),[t]),Object(r.useEffect)((function(){JSON.parse(window.localStorage.getItem("isEdit")||"false")&&m&&(x.current=m.category,s(m.tagIds),t.onChange(m.tagIds))}),[m]),Object(r.useEffect)((function(){s([])}),[t.category]);var D=function(){w||clearTimeout(p)};return Object(j.jsx)(T,{children:u?Object(j.jsx)(z,{type:h.current,categoryType:t.category,onChange:function(t,e){f(t),c(e)},editValue:y.current}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("ol",{children:[n.map((function(e){return e.type===x.current?Object(j.jsx)("li",{onClick:function(){return function(e){var n=a.findIndex((function(t){return e===t})),c=Object(g.a)(a);n>-1?(c.splice(n,1),s(c)):(c=[].concat(Object(g.a)(a),[e]),s(c)),t.onChange(c)}(e.id)},onTouchStart:function(){var n;n={id:e.id,name:e.name,type:t.category},clearTimeout(p),p=window.setTimeout((function(){h.current="edit",y.current=n,f(!0),w=!0}),500)},onTouchEnd:D,className:void 0!==a.find((function(t){return t===e.id}))?"selected":"",children:e.name},e.id):null})),Object(j.jsx)("li",{className:"add",onClick:function(){f(!0),h.current="add",y.current={name:"",id:-1,type:"-"}},children:Object(j.jsx)(O,{name:"addTags"})})]})})})},F=h.a.div(E||(E=Object(f.a)(["\n  font-weight: bold;\n  font-size: 1.1em;\n  > .inputs {\n    > label {\n      display: inline-block;\n      width: 50%;\n      vertical-align: bottom;\n      border-top: 1px solid #D3D3D3;\n      font-family: Consolas, monospace;\n\n      &:nth-child(1) {\n        border-right: 1px solid #D3D3D3;\n      }\n\n      > input {\n        width: 60%;\n      }\n\n      > span {\n        padding-left: 5px;\n      }\n    }\n  }\n\n  > .buttons {\n    > button {\n      height: 70px;\n      width: 20%;\n\n      &.date {\n        font-size: 13px;\n      }\n\n      &:nth-child(1) {\n        border-bottom: 1px solid #D3D3D3;\n        border-top: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(2) {\n        border-bottom: 1px solid #D3D3D3;\n        border-left: 1px solid #D3D3D3;\n        border-top: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(3) {\n        border-bottom: 1px solid #D3D3D3;\n        border-left: 1px solid #D3D3D3;\n        border-top: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(4) {\n        border-bottom: 1px solid #D3D3D3;\n        border-left: 1px solid #D3D3D3;\n        border-top: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(5) {\n        border-bottom: 1px solid #D3D3D3;\n        border-left: 1px solid #D3D3D3;\n        border-top: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(6) {\n        border-bottom: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(7) {\n        border-bottom: 1px solid #D3D3D3;\n        border-left: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(8) {\n        border-bottom: 1px solid #D3D3D3;\n        border-left: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(9) {\n        border-bottom: 1px solid #D3D3D3;\n        border-left: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(10) {\n        border-bottom: 1px solid #D3D3D3;\n        border-left: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(11) {\n        border-bottom: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(12) {\n        border-bottom: 1px solid #D3D3D3;\n        border-left: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(13) {\n        border-bottom: 1px solid #D3D3D3;\n        border-left: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(14) {\n        border-bottom: 1px solid #D3D3D3;\n        border-left: 1px solid #D3D3D3;\n      }\n\n      &.ok {\n        float: right;\n        border-left: 1px solid #D3D3D3;\n        height: 140px;\n      }\n\n      &:nth-child(16) {\n      }\n\n      &:nth-child(17) {\n        border-left: 1px solid #D3D3D3;\n      }\n\n      &:nth-child(18) {\n        border-left: 1px solid #D3D3D3;\n        font-size: 13px;\n      }\n\n      &:nth-child(19) {\n        border-left: 1px solid #D3D3D3;\n      }\n    }\n  }\n  @keyframes clickAnimation{\n    0% {background-color: #FFF;}\n    50% {background-color: #C0C0C0;}\n    100%{background-color: #FFF;}\n  }\n"])));function A(t){var e=String(t).indexOf(".");return e>=0&&String(t).slice(e).length>2?t.toFixed(2):t}function H(t,e){var n,c,o,r=0,i=0,a=!1,s="";switch("-"===t[0]?(n=t.slice(1).match(/(\S*)[+\-\xd7\xf7]/),c=t.slice(1).match(/[+\-\xd7\xf7](\S*)/),a=!0):(n=t.match(/(\S*)[+\-\xd7\xf7]/),c=t.match(/[+\-\xd7\xf7](\S*)/)),n&&(r=a?parseFloat("-"+n[1]):parseFloat(n[1])),c&&(i=parseFloat(c[1]),o=c[0][0]),o||""){case"+":s=r+i+e;break;case"-":s=r-i+e;break;case"\xd7":s=A(r*i)+e;break;case"\xf7":if(0===i)s=0+e;else s=A(r/i)+e}return s}var L,B=function(t){var e=t.isComputer,n=t.dom,c=t.accountValue,o=c,r="";if(n&&(r=n.textContent||""),e)return H(c,"");switch(r){case"\u6e05\u7a7a":o="0";break;case"\u6e05\u9664":o=c.length>1?c.slice(0,-1):"0";break;default:if(c.length>=11)return c}return"0"===c?"0123456789".indexOf(r)>=0?o=r:"+-\xd7\xf7".indexOf(r)>=0&&(o+=r):"0123456789".indexOf(r)>=0?o+=r:"+-\xd7\xf7".indexOf(r)>=0&&(c.indexOf("+")>=0||c.slice(1).indexOf("-")>=0||c.indexOf("\xd7")>=0||c.indexOf("\xf7")>=0?-1==="+-\xd7\xf7".indexOf(c.substring(c.length-1))&&(o=H(c,r)||"0"):o+=r),"."===r&&-1===c.indexOf(".")&&(o=c+"."),o},J=n(4),V=n.n(J),_=function(t){var e=Object(r.useState)("0"),n=Object(b.a)(e,2),c=n[0],o=n[1],i=Object(r.useState)(!1),a=Object(b.a)(i,2),s=a[0],l=a[1],d=Object(r.useState)(!1),u=Object(b.a)(d,2),f=u[0],h=u[1],x=Object(r.useState)(""),m=Object(b.a)(x,2),p=m[0],O=m[1],g=Object(r.useState)(new Date),w=Object(b.a)(g,2),y=w[0],D=w[1],S=Object(r.useState)(V()().toISOString()),k=Object(b.a)(S,2),C=k[0],E=k[1],N=Object(r.useState)(!1),R=Object(b.a)(N,2),M=R[0],z=R[1],T=v().currentRecord,Y=V()().endOf("year").toDate(),H=V()().startOf("year").toDate(),L=Object(r.useRef)(null);Object(r.useEffect)((function(){JSON.parse(window.localStorage.getItem("isEdit")||"false")&&T&&(o(T.amount),E(T.createdAt),z(!0),O(T.note),L.current&&(L.current.textContent=V()(T.createdAt).format("YYYY-M-D")))}),[T]);var J=function(t){t.stopPropagation();var e=B({isComputer:!0,accountValue:c});o(e),h(!1)},_=function(e){e.stopPropagation();var n="";n="+-\xd7\xf7".indexOf(c.charAt(c.length-1))>=0?A(parseFloat(c.substring(0,c.length-1)))+"":A(parseFloat(c))+"",M?T&&t.onChange({note:p,amount:n,createdAt:T.createdAt}):t.onChange({note:p,amount:n,createdAt:V()(C).toISOString()})},W=function(t){D(new Date),L&&L.current&&(V()().isSame(t,"day")?L.current.textContent="\u4eca\u5929":L.current.textContent=V()(t).format("YYYY-M-D"),E(V()(t).toISOString()))};return Object(j.jsxs)(F,{children:[Object(j.jsxs)("div",{className:"inputs",children:[Object(j.jsxs)("label",{className:"note",children:[Object(j.jsx)("span",{children:"\u5907\u6ce8\uff1a"}),Object(j.jsx)("input",{type:"text",value:p,onChange:function(t){O(t.target.value)}})]}),Object(j.jsxs)("label",{className:"amount",children:[Object(j.jsx)("span",{children:"\u91d1\u989d\uff1a"}),Object(j.jsx)("input",{type:"text",onFocus:function(t){t.target.blur()},value:c,onChange:function(){}})]})]}),Object(j.jsxs)("div",{className:"buttons",onClick:function(t){!function(t){t.target.setAttribute("style","animation: clickAnimation 0.1s;");var e=B({dom:t.target,accountValue:c});o(e),RegExp(/[+\-\xd7\xf7]/).test(e.slice(1,-1))?h(!0):h(!1),setTimeout((function(){t.target.removeAttribute("style")}),100)}(t)},children:[Object(j.jsx)("button",{children:"1"}),Object(j.jsx)("button",{children:"2"}),Object(j.jsx)("button",{children:"3"}),Object(j.jsx)("button",{children:"+"}),Object(j.jsx)("button",{children:"\u6e05\u9664"}),Object(j.jsx)("button",{children:"4"}),Object(j.jsx)("button",{children:"5"}),Object(j.jsx)("button",{children:"6"}),Object(j.jsx)("button",{children:"-"}),Object(j.jsx)("button",{children:"\u6e05\u7a7a"}),Object(j.jsx)("button",{children:"7"}),Object(j.jsx)("button",{children:"8"}),Object(j.jsx)("button",{children:"9"}),Object(j.jsx)("button",{children:"\xd7"}),M?Object(j.jsx)(j.Fragment,{children:f?Object(j.jsx)("button",{className:"ok",onClick:J,children:"="}):Object(j.jsx)("button",{className:"ok",onClick:_,children:"\u4fee\u6539"})}):Object(j.jsx)(j.Fragment,{children:f?Object(j.jsx)("button",{className:"ok",onClick:J,children:"="}):Object(j.jsx)("button",{className:"ok",onClick:_,children:"\u5b8c\u6210"})}),Object(j.jsx)("button",{children:"0"}),Object(j.jsx)("button",{children:"."}),Object(j.jsx)("button",{onClick:function(t){l(!0),t.stopPropagation()},ref:L,children:"\u4eca\u5929"}),Object(j.jsx)("button",{children:"\xf7"})]}),M?null:Object(j.jsx)(I.a,{visible:s,onClose:function(){l(!1)},value:y,max:Y,min:H,onConfirm:W,onSelect:W})]})},W=h.a.div(L||(L=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"])));var P,q=function(){var t=Object(r.useRef)(null),e=Object(r.useState)({tagIds:[],category:"-"}),n=Object(b.a)(e,2),c=n[0],o=n[1],i=Object(r.useState)({note:"",amount:"",createdAt:V()().toISOString()}),a=Object(b.a)(i,2),s=a[0],l=a[1],f=Object(r.useRef)(0),h=v(),x=h.addRecord,m=h.records,p=h.updateRecord,O=Object(r.useRef)(0),g=Object(d.g)();return Object(r.useEffect)((function(){t.current&&(t.current.style.height=document.documentElement.clientHeight+"px")}),[]),Object(r.useEffect)((function(){f.current=c.tagIds.length}),[c]),Object(r.useEffect)((function(){if(O.current>0){if(0===f.current)return void I.c.show("\u8bf7\u9009\u62e9\u81f3\u5c11\u4e00\u4e2a\u6807\u7b7e\uff01\uff01\uff01");JSON.parse(window.localStorage.getItem("isEdit")||"false")?(p(Object(u.a)(Object(u.a)({},s),c)),f.current=0):x(Object(u.a)(Object(u.a)({},s),c))}O.current+=1}),[s]),Object(r.useEffect)((function(){O.current>1&&(JSON.parse(window.localStorage.getItem("isEdit")||"false")?(I.c.show("\u4fee\u6539\u6210\u529f"),window.localStorage.removeItem("isEdit"),window.localStorage.removeItem("currentRecord")):I.c.show("\u6dfb\u52a0\u6210\u529f"),g.push("/statistics"))}),[m]),Object(j.jsxs)(W,{ref:t,children:[Object(j.jsx)(S,{onChange:function(t){return o(Object(u.a)(Object(u.a)({},c),{},{category:t}))},home:!0}),Object(j.jsx)(Y,{category:c.category,onChange:function(t){return o(Object(u.a)(Object(u.a)({},c),{},{tagIds:t}))}}),Object(j.jsx)(_,{onChange:function(t){l(Object(u.a)(Object(u.a)({},s),t))}})]})},U=h.a.nav(P||(P=Object(f.a)(["\n  line-height: 24px;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\n  > ul {\n    display: flex;\n    > li {\n      width: 33.3333333%;\n      text-align: center;\n      > a {\n        display: flex;\n        padding: 5px 0;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        user-select: none;\n        &.selected{\n          color: red;\n          > .icon{\n            fill: red;\n          }\n        }\n      }\n    }\n    .icon {\n      width: 24px;\n      height: 24px;\n    }\n  }\n"])));var G,K=function(){return Object(j.jsx)(U,{children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsxs)(l.b,{to:"/statistics",activeClassName:"selected",children:[Object(j.jsx)(O,{name:"statistics"}),"\u660e\u7ec6"]})}),Object(j.jsx)("li",{children:Object(j.jsxs)(l.b,{to:"/money",activeClassName:"selected",children:[Object(j.jsx)(O,{name:"money"}),"\u8bb0\u8d26"]})}),Object(j.jsx)("li",{children:Object(j.jsxs)(l.b,{to:"/chart",activeClassName:"selected",children:[Object(j.jsx)(O,{name:"chart"}),"\u56fe\u8868"]})})]})})},Q=h.a.div(G||(G=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  > .main {\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    height: 85%;\n  }\n"])));var X,Z,$,tt=function(t){var e=Object(r.useRef)(null);return Object(r.useEffect)((function(){e.current&&(e.current.style.height=document.documentElement.clientHeight+"px")}),[]),Object(j.jsxs)(Q,{ref:e,children:[Object(j.jsx)("main",{className:"main",children:t.children}),Object(j.jsx)(K,{})]})},et=n(79),nt=h.a.nav(X||(X=Object(f.a)(["\n  display: flex;\n\n  > div {\n    width: 33.3333%;\n    line-height: 1.5em;\n    font-size: 1.2em;\n    text-align: center;\n\n    &:nth-child(1) {\n      border: 2px solid black;\n    }\n\n    &:nth-child(2) {\n      border-top: 2px solid black;\n      border-bottom: 2px solid black;\n      border-right: 2px solid black;\n    }\n\n    &:nth-child(3) {\n      border-top: 2px solid black;\n      border-right: 2px solid black;\n      border-bottom: 2px solid black;\n    }\n  }\n\n  > .select {\n    color: white;\n    background-color: black;\n  }\n"]))),ct=h.a.main(Z||(Z=Object(f.a)(["\n  margin-top: 100px;\n  min-width: 300px;\n  min-height: 300px;\n"]))),ot=h.a.div($||($=Object(f.a)(["\n  width: 100vw;\n  overflow: auto;\n"])));var rt,it,at=function(){var t=Object(r.useState)("\u5468"),e=Object(b.a)(t,2),n=e[0],c=e[1],o=Object(r.useState)("-"),i=Object(b.a)(o,2),a=i[0],s=i[1],l=Object(r.useRef)(null),d=Object(r.useRef)(null),u=Object(r.useRef)();return Object(r.useEffect)((function(){var t=document.getElementById("main");t&&(u.current=et.a(t))}),[]),Object(r.useEffect)((function(){var t,e,c;if(u.current){var o=[[],[]];switch(n){case"\u5468":l.current&&(l.current.style.width=document.documentElement.clientWidth+"px"),null===(t=u.current)||void 0===t||t.resize(),o=function(t){for(var e=JSON.parse(window.localStorage.getItem("records")||"[]"),n=V()().startOf("week").add(1,"day").toISOString(),c=0,o=[],r=[],i=0;i<7;)r.push(V()(n).add(i,"day").toISOString()),i++;return i=0,r.forEach((function(n,i){e.forEach((function(e){V()(e.createdAt).isSame(V()(n),"day")&&e.category===t&&(c+=parseFloat(e.amount))})),o.push(c),c=0,r[i]=V()(n).format("M\u6708D\u65e5")})),[r,o]}(a);break;case"\u6708":l.current&&(l.current.style.width=4.5*document.documentElement.clientWidth+"px"),d.current&&(d.current.scrollLeft=document.documentElement.clientWidth/2*(V()().get("date")/7)),null===(e=u.current)||void 0===e||e.resize(),o=function(t){for(var e=JSON.parse(window.localStorage.getItem("records")||"[]"),n=V()().startOf("month").toISOString(),c=V()().daysInMonth(),o=0,r=0,i=[],a=[];r<c;)a.push(V()(n).add(r,"day").toISOString()),r++;return r=0,a.forEach((function(n,c){e.forEach((function(e){V()(e.createdAt).isSame(V()(n),"day")&&e.category===t&&(o+=parseFloat(e.amount))})),i.push(o),o=0,a[c]=V()(n).format("M\u6708D\u65e5")})),[a,i]}(a);break;case"\u5e74":l.current&&(l.current.style.width=document.documentElement.clientWidth+"px"),null===(c=u.current)||void 0===c||c.resize(),o=function(t){var e=JSON.parse(window.localStorage.getItem("records")||"[]"),n=["1","2","3","4","5","6","7","8","9","10","11","12"],c=[],o=0;return n.forEach((function(r,i){e.forEach((function(e){V()(e.createdAt).get("month")+1+""===r&&e.category===t&&(o+=parseFloat(e.amount))})),c.push(o),o=0,n[i]=r+"\u6708"})),[n,c]}(a)}var r=o[0],i=o[1],s={grid:{left:0,right:0},title:{text:"\u672c"+n},tooltip:{show:!0,triggerOn:"click",position:"top",formatter:"{c}"},xAxis:{type:"category",data:r,axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#666"}},axisLabel:{interval:0}},yAxis:{type:"value",show:!1},series:[{symbol:"circle",symbolSize:11,type:"line",itemStyle:{borderWidth:1,color:"#666",borderColor:"#666"},data:i}]};u.current.setOption(s)}}),[n,a]),Object(j.jsxs)(tt,{children:[Object(j.jsx)(S,{backgroundColor:"white",onChange:function(t){s(t)}}),Object(j.jsx)(nt,{children:["\u5468","\u6708","\u5e74"].map((function(t){return Object(j.jsx)("div",{className:t===n?"select":"",onClick:function(){return function(t){c(t)}(t)},children:t},t)}))}),Object(j.jsx)(ot,{ref:d,children:Object(j.jsx)(ct,{ref:l,id:"main"})})]})},st=function(t,e){var n,c=0,o=0;switch(t.forEach((function(t){t[1].forEach((function(t){"-"===t.category?c+=parseFloat(t.amount):"+"===t.category&&(o+=parseFloat(t.amount))}))})),n=o-c,e){case"payout":return c+"";case"income":return o+"";case"balance":return n+""}},lt=h.a.div(rt||(rt=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #d0d0d0;\n\n  > .date {\n    font-size: 18px;\n    display: flex;\n    align-items: center;\n\n    > .icon {\n      font-size: 9px;\n      padding-left: 5px;\n    }\n  }\n\n  > .amount {\n    > li:nth-child(1) {\n      font-size: 22px;\n    }\n\n    > li:nth-child(2) {\n      font-size: 12px;\n    }\n\n    text-align: center;\n  }\n\n  > .amountByType {\n    width: 100%;\n    display: flex;\n    justify-content: space-around;\n\n    > ul {\n      text-align: center;\n      width: 50%;\n\n      &:nth-child(1) {\n        border-right: 1px solid;\n\n        > li:nth-child(1) {\n          font-weight: bold;\n        }\n\n        > li:nth-child(2) {\n          font-size: 12px;\n        }\n      }\n\n      &:nth-child(2) {\n        > li:nth-child(1) {\n          font-weight: bold;\n        }\n\n        > li:nth-child(2) {\n          font-size: 12px;\n        }\n      }\n    }\n  }\n"]))),dt=function(t){var e=Object(r.useState)(!1),n=Object(b.a)(e,2),c=n[0],o=n[1],i=Object(r.useState)(V()().format("YYYY\u5e74MM\u6708")),a=Object(b.a)(i,2),s=a[0],l=a[1],d=Object(r.useState)(new Date),u=Object(b.a)(d,2),f=u[0],h=u[1],x=Object(r.useRef)(V()().get("month")+1);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(lt,{children:[Object(j.jsxs)("div",{className:"date",onClick:function(){h(new Date),o(!0)},children:[s,c?Object(j.jsx)("span",{className:"icon",children:Object(j.jsx)(O,{name:"up"})}):Object(j.jsx)("span",{className:"icon",children:Object(j.jsx)(O,{name:"down"})})]}),Object(j.jsxs)("ul",{className:"amount",children:[Object(j.jsx)("li",{children:st(t.currentMonthRecords,"balance")}),Object(j.jsxs)("li",{children:[x.current,"\u6708\u7ed3\u4f59"]})]}),Object(j.jsxs)("div",{className:"amountByType",children:[Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:st(t.currentMonthRecords,"income")}),Object(j.jsxs)("li",{children:[x.current,"\u6708\u6536\u5165"]})]}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:st(t.currentMonthRecords,"payout")}),Object(j.jsxs)("li",{children:[x.current,"\u6708\u652f\u51fa"]})]})]}),Object(j.jsx)(I.a,{visible:c,onClose:function(){o(!1)},max:V()().endOf("year").toDate(),min:V()().startOf("year").toDate(),value:f,precision:"month",onConfirm:function(e){l(V()(e).format("YYYY\u5e74MM\u6708")),t.onChange(V()(e).format("YYYY\u5e74MM\u6708")),x.current=V()(e).get("month")+1}})]})})};function ut(t){return Math.random().toString(36).substr(3,t)}var bt=h.a.div(it||(it=Object(f.a)(["\n  overflow: auto;\n  width: 100%;\n  flex-grow: 1;\n  .month {\n    background-color: #efefef;\n    line-height: 28px;\n    height: 28px;\n  }\n\n  .detail {\n    height: 50px;\n    line-height: 50px;\n    border-bottom: 1px solid #f5f5f5;\n    display: flex;\n    position: relative;\n    user-select: none;\n\n    > section:nth-child(1) {\n      width: 50%;\n      float: left;\n    }\n\n    > section:nth-child(2) {\n      width: 50%;\n      float: right;\n      text-align: right;\n      margin-right: 5px;\n    }\n\n    > section:nth-child(3) {\n      font-size: 12px;\n      position: absolute;\n      bottom: -20px;\n      left: 0;\n    }\n  }\n"]))),ft=function(t){var e=R().findNameByIds,n=Object(d.g)(),c=-1,o=!1,r=function(){o||clearTimeout(c)};return Object(j.jsx)(bt,{children:t.currentMonthRecord.length>0?t.currentMonthRecord.map((function(a){return Object(j.jsxs)(i.a.Fragment,{children:[Object(j.jsx)("div",{className:"month",children:a[0]},ut(16)),a[1].map((function(a,s){return Object(j.jsx)(i.a.Fragment,{children:Object(j.jsxs)("div",{className:"detail",onClick:function(){!function(t){window.localStorage.setItem("isEdit","true"),window.localStorage.setItem("currentRecord",JSON.stringify(t)),setTimeout((function(){n.push("/money")}))}(a)},onTouchStart:function(){var e;e=a.createdAt,clearTimeout(c),c=window.setTimeout((function(){o=!0,window.localStorage.removeItem("isEdit"),window.localStorage.removeItem("currentRecord"),I.b.show({content:"\u662f\u5426\u5220\u9664\uff1f",closeOnAction:!0,actions:[[{key:"cancel",text:"\u53d6\u6d88"},{key:"delete",text:"\u5220\u9664",bold:!0,danger:!0}]],onAction:function(n){"delete"===n.key?t.onDelete(e):o=!1}})}),500)},onTouchEnd:r,children:[Object(j.jsx)("section",{children:e(a.tagIds).join("\uff0c")},ut(16)),Object(j.jsx)("section",{children:"-"===a.category?"-"+a.amount:"+"+a.amount},ut(16)),Object(j.jsx)("section",{children:a.note},ut(16))]},ut(16))},ut(16))}))]},ut(16))})):null})},ht=function(){var t=Object(r.useState)(V()().format("YYYY\u5e74MM\u6708")),e=Object(b.a)(t,2),n=e[0],c=e[1],o=v(),i=o.records,a=o.deleteRecord,s=Object(r.useState)([]),l=Object(b.a)(s,2),d=l[0],u=l[1];return Object(r.useEffect)((function(){var t;u((t=function(t){var e={};return t.forEach((function(t){var n=V()(t.createdAt).format("YYYY\u5e74MM\u6708"),c=V()(t.createdAt).format("YYYY\u5e74MM\u6708D\u65e5");n in e||(e[n]={}),c in e[n]||(e[n][c]=[]),e[n][c].push(t)})),e}(i)[n])?Object.entries(t).sort((function(t,e){return t[0]===e[0]?0:t[0]>e[0]?-1:t[0]<e[0]?1:0})):[])}),[n,i]),Object(j.jsxs)(tt,{children:[Object(j.jsx)(dt,{onChange:function(t){c(t)},currentMonthRecords:d}),Object(j.jsx)(ft,{currentMonthRecord:d,onDelete:function(t){a(t)}})]})};var jt=function(){return Object(r.useEffect)((function(){window.addEventListener("contextmenu",(function(t){t.preventDefault()}))}),[]),Object(j.jsx)(l.a,{children:Object(j.jsxs)(d.d,{children:[Object(j.jsx)(d.b,{path:"/money",children:Object(j.jsx)(q,{})}),Object(j.jsx)(d.b,{path:"/chart",children:Object(j.jsx)(at,{})}),Object(j.jsx)(d.b,{path:"/statistics",children:Object(j.jsx)(ht,{})}),Object(j.jsx)(d.a,{exact:!0,from:"/",to:"/statistics"})]})})};n(188);s.a.render(Object(j.jsx)(jt,{}),document.getElementById("root"))}},[[189,1,2]]]);
//# sourceMappingURL=main.fa32af91.chunk.js.map